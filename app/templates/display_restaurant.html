{% extends "logged_in_base.html" %}

{% block title %}Restaurant Display{% endblock %}

{% block content %}
<h1>{{ displayed_restaurant[0]["name"] }}</h1>

<p><strong>Cuisine:</strong> {{ displayed_restaurant[0]["cuisine"].title() }}</p>
<p><strong>Rating:</strong> {{ displayed_restaurant[0]["rating"] }} stars ({{ displayed_restaurant[0]["rating_count"] }} reviews)</p>
<p><strong>Price Level:</strong> {{ displayed_restaurant[0]["price_level"] }}</p>
<p><strong>Drive Time:</strong> {{ (displayed_restaurant[0]["drive_time"] / 60) | round(1) }} minutes</p>

<p><strong>Available Options:</strong></p>
<ul>
    {% if displayed_restaurant[0]["dineIn"] == 1 %}<li>Offers dine-in</li>{% endif %}
    {% if displayed_restaurant[0]["takeout"] == 1 %}<li>Offers takeout</li>{% endif %}
    {% if displayed_restaurant[0]["vegan"] == 1 %}<li>Vegan options available</li>{% endif %}
</ul>

<p><strong>Status:</strong> {% if displayed_restaurant[0]["is_open"] == 1 %}Currently open{% else %}Currently closed{% endif %}</p>

<form action="{{ url_for('submission.process_response') }}" method="POST" style="display:inline;">
    <input type="hidden" name="response" value="1">
    <input type="hidden" name="place_id" value="{{ displayed_restaurant[0]['id'] }}">
    <input type="hidden" name="cuisine" value="{{ displayed_restaurant[0]['cuisine'] }}">
    <input type="hidden" name="rating" value="{{ displayed_restaurant[0]['rating'] }}">
    <input type="hidden" name="rating_count" value="{{ displayed_restaurant[0]['rating_count'] }}">
    <input type="hidden" name="is_open" value="{{ displayed_restaurant[0]['is_open'] }}">
    <input type="hidden" name="drive_time" value="{{ displayed_restaurant[0]['drive_time'] }}">
    <button type="submit">Accept</button>
</form>

<form action="{{ url_for('submission.process_response') }}" method="POST" style="display:inline;">
    <input type="hidden" name="response" value="0">
    <input type="hidden" name="place_id" value="{{ displayed_restaurant[0]['id'] }}">
    <input type="hidden" name="cuisine" value="{{ displayed_restaurant[0]['cuisine'] }}">
    <input type="hidden" name="rating" value="{{ displayed_restaurant[0]['rating'] }}">
    <input type="hidden" name="rating_count" value="{{ displayed_restaurant[0]['rating_count'] }}">
    <input type="hidden" name="is_open" value="{{ displayed_restaurant[0]['is_open'] }}">
    <input type="hidden" name="drive_time" value="{{ displayed_restaurant[0]['drive_time'] }}">
    <button type="submit">Reject</button>
</form>
{% endblock %}